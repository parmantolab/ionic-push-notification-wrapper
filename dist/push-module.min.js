angular.module("pushModule",["ionic"]).provider("PushService",function(){function e(e,o,i){e.ready(function(){var e=PushNotification.init({android:{senderID:t.parameters.senderID},ios:{senderID:t.parameters.senderID,alert:t.parameters.iosAlert,badge:t.parameters.iosBadge,sound:t.parameters.iosSound,gcmSandbox:"true",categories:t.parameters.iosCategories},windows:{}});e.on("registration",function(e){var t=window.localStorage.getItem("registrationId");t!==e.registrationId&&(window.localStorage.setItem("registrationId",e.registrationId),i.$broadcast("onChangeRegistrationId",e.registrationId)),console.log(window.localStorage.getItem("registrationId"))}),e.on("notification",function(t){i.$broadcast("onPushNotification",t.additionalData.data,t),e.finish(function(){console.log("processing of push data is finished")},function(){console.log("something went wrong with push.finish for ID = "+t.additionalData.notId)},t.additionalData.notId)}),window.reject=function(){window.alert("Reject Triggred")},window.accept=function(){window.alert("Accept Triggred")}})}var t=this;this.parameters={senderID:"",iosAlert:!0,iosBadge:!0,iosSound:!0,iosCategories:{invite:{yes:{callback:window.accept,title:"Accept",foreground:!0,destructive:!1},no:{callback:window.reject,title:"Reject",foreground:!1,destructive:!1}}}},this.setParameters=function(e){t.parameters=angular.merge(t.parameters,e)},this.$get=e,e.$inject=["$ionicPlatform","$ionicPopup","$rootScope"]});