angular.module("pushModule",["ionic"]).provider("PushService",function(){function i(i,n){function t(){var i=window.PushNotification?!0:!1;return i||console.error("PushNotification is not ready."),i}function a(){t()&&(this.push=PushNotification.init(o),this.push.on("registration",r),this.push.on("notification",e))}function s(){function i(){this.push=null}function o(){}this.push&&this.push.unregister(i,o,[])}function r(i){var o=window.localStorage.getItem("registrationId");o!==i.registrationId&&(window.localStorage.setItem("registrationId",i.registrationId),n.$broadcast("onChangeRegistrationId",i.registrationId)),console.log("local"+window.localStorage.getItem("registrationId"))}function e(i){n.$broadcast("onPushNotification",i.additionalData.payload,i),u.push.finish(function(){console.log("processing of push data is finished")},function(){console.log("something went wrong with push.finish for ID = "+i.additionalData.notId)},i.additionalData.notId)}var u={};return u.push=null,u.register=a,u.unregister=s,u}var o={android:{senderID:null},ios:{senderID:null,gcmSandbox:!1,alert:!0,badge:!0,sound:!0}};this.config=function(i){angular.merge(o,i)},this.$get=i,i.$inject=["$ionicPlatform","$rootScope"]});