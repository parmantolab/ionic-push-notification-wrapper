angular.module("pushModule",["ionic"]).provider("PushService",function(){function i(i,o){function t(){var i=window.PushNotification?!0:!1;return i||console.error("PushNotification is not ready."),i}function a(){t()&&(this.push=PushNotification.init(n),this.push.on("registration",r),this.push.on("notification",e))}function s(){function i(){this.push=null}function n(){}this.push&&this.push.unregister(i,n,[])}function r(i){var n=window.localStorage.getItem("registrationId");n!==i.registrationId&&(window.localStorage.setItem("registrationId",i.registrationId),o.$broadcast("onChangeRegistrationId",i.registrationId)),console.log("local"+window.localStorage.getItem("registrationId"))}function e(i){o.$broadcast("onPushNotification",i.additionalData.data,i),push.finish(function(){console.log("processing of push data is finished")},function(){console.log("something went wrong with push.finish for ID = "+i.additionalData.notId)},i.additionalData.notId)}var u={};return u.push=null,u.register=a,u.unregister=s,u}var n={android:{senderID:null},ios:{senderID:null,gcmSandbox:!1,alert:!0,badge:!0,sound:!0}};this.config=function(i){angular.merge(n,i)},this.$get=i,i.$inject=["$ionicPlatform","$rootScope"]});